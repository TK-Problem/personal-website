---
title: "Exports in Lithuania"
author: "Tomas Kristijonas UÅ¾davinys"
format:
  html:
    code-fold: true
    code-tools: true
date: "2023-03-11"
categories: [R, Macro Economy, Coursera]
---

Hello and welcome to my first blog post on Quarto! As a part of my Google Data Analytics specialization course capstone project, I have created this blog. In this post, I will be exploring the changes in historical exports of Lithuania over time, using the 6-step framework presented in the course. I hope you enjoy reading about my findings and analysis. Let's begin!

![Google Data Analytics framework](analytics_framework.png){width="767"}

## Ask

Before diving into data processing and visualization, it's essential to take note of the following key events: the Covid-19 pandemic since spring 2020, the strained relationship between China and Lithuania due to the Taiwan question, and the Russian invasion of Ukraine in 2022.

The Covid-19 pandemic has brought unprecedented changes to the global economy, and Lithuania was no exception. The outbreak caused major disruptions in global trade, resulting in a decline in demand for Lithuanian goods and services. On the other hand, Lithuania's relationship with China has been deteriorating due to the Taiwan question. This has led to a decrease in exports to China, one of Lithuania's top trading partners.

The Russian invasion of Ukraine in 2022 has also had a significant impact on Lithuania's trade patterns. The conflict has resulted in the imposition of economic sanctions on Russia, affecting Lithuania's trade with its Eastern neighbor. The situation is still developing, and it will be interesting to see how Lithuania's trade with Russia evolves in the coming years.

## Prepare

The data was downloaded from the Lithuanian National [website](https://www.lb.lt/en/export-and-import-of-services-by-country) in an Excel file format. You can also find the same file in my blog's Github [repo](https://github.com/TK-Problem/personal-website/tree/main/posts/google-analytics-capstone). It was then loaded into R environment using the `tidyverse` library and processed converted to `data.table` format.

```{r}
#| warning: false
# load libraries
library(readxl)
library(data.table)
library(kableExtra)

# read data from excel
dt <- read_excel("lb_data.xlsx", sheet = 1, range = "A13:AN201")

# convert to data.table object
dt <- data.table(dt)

# rename columns for convinience
setnames(dt, c("...1"), "Type")

# shift columns to get correct names
dt[, Country := rep(dt[seq(1, nrow(dt), 4), Type], each = 4)]
dt <- dt[!(seq(1, nrow(dt), 4))]

# generate table with first few rows and columns
knitr::kable(dt[1:6, c(41, 1, 38, 39, 40)])
```

In the table above, you can see the total exports and imports of all countries, as well as those of the European Union's (27 countries) for the three most recent quarters. Even before data cleaning and preparation, a visual analysis shows that a majority of exports and imports go to EU countries. Data is available about 41 unique countries.

## Process

For this project, we didn't need to do much data cleaning or processing since there were no missing values or unknown formats. However, we did make some minor formatting adjustments in the `Prepare` section. To keep things simple, I decided not to split this section into different parts.

## Analyze

After formatting and sorting the data, I investigated export changes of top 10 largest export destinations in 2003 Q3. Exports across European countries saw a substantial increase, with some countries experiencing growth rates of between 200-700%, exports to Belarus and Russia dropped significantly by 60% and 50%, respectively.

```{r}
# select exports data and exclude aggregated entires
agg <- c("Total", "European Union (27 countries)", "Euro Area (18 countries)", "Commonwealth of Independent States", "Offshore financial centers", "Other countries")
dt.export <- dt[Type == "Exports" & !Country %in% agg]
dt.export[, `Change, %` := round((`Q3/2022` / `Q3/2013` - 1) * 100, 1)]
# get top 10 starting and last period countries by export
start <- tail(dt.export[, c(41, 4, 40)][order(`Q3/2013`)], 10)
# generate kable table
kbl(start, caption = "Top 10 largest export destinations in 2013 Q3") %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
```

I found it interesting to observe that out of the 41 countries with known data, there were export reductions in only four countries: Egypt, Russia, Belarus, and Japan. Furthermore, I noticed that the largest export changes were seen in countries with relatively small exports in 2003 Q3, such as Croatia and Malta, whose exports increased 40 times. It's worth noting that Canada, a large economy, also saw a significant increase in exports, which grew almost 30 times.

```{r}
# get top 10 starting and last period countries by export
top_change <- tail(dt.export[, c(41, 4, 40, 42)][order(`Change, %`)], 5)
low_change <- head(dt.export[, c(41, 4, 40, 42)][order(`Change, %`)], 5)

# get changes
dt.changes <- rbind(low_change, top_change)

# generate kable table
kbl(dt.changes, caption = "Top 5 largest positive and negative export changes") %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
```

Regarding imports, I observed that imports were reduced to only three countries: Finland, Belarus, and Russia. It is worth noting, that that imports from Japan increased by 80%, which is in contrast to the reduced exports by 26%. Lastly, I observed that imports from Portugal increased by 35 times.

```{r}
# select exports data and exclude aggregated entires
agg <- c("Total", "European Union (27 countries)", "Euro Area (18 countries)", "Commonwealth of Independent States", "Offshore financial centers", "Other countries")
dt.import <- dt[Type == "Imports" & !Country %in% agg]
dt.import[, `Change, %` := round((`Q3/2022` / `Q3/2013` - 1) * 100, 1)]

# get top 10 starting and last period countries by export
top_change <- tail(dt.import[, c(41, 4, 40, 42)][order(`Change, %`)], 5)
low_change <- head(dt.import[, c(41, 4, 40, 42)][order(`Change, %`)], 5)

# get changes
dt.changes <- rbind(low_change, top_change)

# generate kable table
kbl(dt.changes, caption = "Top 5 largest positive and negative import changes") %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
```

Overall, this analysis highlights the importance of careful observation and analysis of data to uncover trends and patterns that can inform strategic decision-making for businesses and policymakers alike.

## Share

Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.

## Act

Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.
